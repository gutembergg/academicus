(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{jWvB:function(t,o,e){"use strict";e.r(o),e.d(o,"BooksDetailModule",function(){return g});var i=e("ofXK"),n=e("tyNb"),r=e("mrSG"),s=e("3Pt+"),b=e("fXoL"),c=e("qBIq"),h=e("UbJi"),u=e("TEn/");function a(t,o){if(1&t&&(b.Ob(0,"ion-select-option",13),b.nc(1),b.Nb()),2&t){const t=o.$implicit;b.dc("value",t.name),b.Bb(1),b.pc(" ",t.name," ")}}const l=[{path:"",component:(()=>{class t{constructor(t,o,e,i){this._firestore=t,this._angularAuth=o,this._route=e,this._formBuilder=i,this.newBook={},this.form=this._formBuilder.group({category:["",s.k.required],offer:["",s.k.required]})}ngOnInit(){this.categoryList$=this._firestore.getCategories(),this.subscription=this._route.queryParams.subscribe(t=>this.theBook=t)}registerBook$(){return Object(r.b)(this,void 0,void 0,function*(){console.log("form: ",this.form.value);const t=yield this._angularAuth.currentUser.then(t=>t.uid);this.newBook=Object.assign(Object.assign({},this.newBook),{userId:t,title:this.theBook.title?this.theBook.title:"",authors:this.theBook.authors?this.theBook.authors:"",image:this.theBook.image,publisher:this.theBook.publisher?this.theBook.publisher:"",categoryId:this.form.value.category,offer:this.form.value.offer,interests:0}),this._firestore.createBook(this.newBook)})}registerBook(t){return Object(r.b)(this,void 0,void 0,function*(){if(void 0===this.newBook.categoryId||""===t)return void alert("Remplissez tout les champs");const o=yield this._angularAuth.currentUser.then(t=>t.uid);this.newBook=Object.assign(Object.assign({},this.newBook),{userId:o,title:this.theBook.title?this.theBook.title:"",authors:this.theBook.authors?this.theBook.authors:"",image:this.theBook.image,publisher:this.theBook.publisher?this.theBook.publisher:"",offer:t,interests:0}),this._firestore.createBook(this.newBook)})}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(o){return new(o||t)(b.Lb(c.a),b.Lb(h.a),b.Lb(n.a),b.Lb(s.a))},t.\u0275cmp=b.Fb({type:t,selectors:[["app-books-detail"]],decls:53,vars:9,consts:[["slot","start"],[3,"src"],[1,"ion-justify-content-center"],[1,"info_text"],["value","offer"],["value","request"],["fixed",""],[3,"formGroup","ngSubmit"],["formControlName","category","okText","Okay","cancelText","Dismiss","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","offer","placeholder","Offre","required",""],["offer",""],["type","submit","expand","full"],[3,"value"]],template:function(t,o){1&t&&(b.Ob(0,"ion-header"),b.Ob(1,"ion-toolbar"),b.Ob(2,"ion-buttons",0),b.Mb(3,"ion-back-button"),b.Nb(),b.Ob(4,"ion-title"),b.nc(5),b.Nb(),b.Nb(),b.Nb(),b.Ob(6,"ion-content"),b.Ob(7,"ion-card"),b.Ob(8,"ion-card-header"),b.Mb(9,"ion-img",1),b.Ob(10,"ion-grid"),b.Ob(11,"ion-row",2),b.Ob(12,"ion-card-title"),b.nc(13),b.Nb(),b.Nb(),b.Ob(14,"ion-row",2),b.Ob(15,"ion-card-subtitle"),b.nc(16),b.Nb(),b.Nb(),b.Ob(17,"ion-row",2),b.Ob(18,"ion-text"),b.nc(19," \xc9diteur: "),b.Nb(),b.nc(20),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Ob(21,"ion-grid"),b.Ob(22,"ion-row",2),b.Ob(23,"ion-text"),b.Ob(24,"p",3),b.nc(25,"Ajouter livre"),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Ob(26,"ion-segment",4),b.Ob(27,"ion-segment-button",4),b.Ob(28,"ion-label"),b.nc(29,"J'offre"),b.Nb(),b.Nb(),b.Ob(30,"ion-segment-button",5),b.Ob(31,"ion-label"),b.nc(32,"Je recherche"),b.Nb(),b.Nb(),b.Nb(),b.Ob(33,"ion-grid",6),b.Ob(34,"form",7),b.Wb("ngSubmit",function(){return o.registerBook$()}),b.Ob(35,"ion-row"),b.Ob(36,"ion-col"),b.Ob(37,"ion-list"),b.Ob(38,"ion-item"),b.Ob(39,"ion-label"),b.nc(40,"Categories"),b.Nb(),b.Ob(41,"ion-select",8),b.mc(42,a,2,2,"ion-select-option",9),b.Zb(43,"async"),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Ob(44,"ion-row"),b.Ob(45,"ion-col"),b.Ob(46,"ion-item"),b.Mb(47,"ion-textarea",10,11),b.Nb(),b.Nb(),b.Nb(),b.Ob(49,"ion-row"),b.Ob(50,"ion-col"),b.Ob(51,"ion-button",12),b.nc(52,"Enregister"),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&t&&(b.Bb(5),b.oc(o.theBook.title),b.Bb(4),b.dc("src",o.theBook.image),b.Bb(4),b.oc(o.theBook.title),b.Bb(3),b.oc(o.theBook.authors),b.Bb(4),b.pc(" ",o.theBook.publisher," "),b.Bb(14),b.dc("formGroup",o.form),b.Bb(8),b.dc("ngForOf",b.ac(43,7,o.categoryList$)))},directives:[u.o,u.L,u.f,u.b,u.c,u.K,u.m,u.g,u.i,u.q,u.n,u.w,u.k,u.j,u.H,u.y,u.P,u.z,u.t,s.l,s.h,s.c,u.l,u.u,u.s,u.A,s.g,s.b,s.j,i.j,u.I,u.Q,u.e,u.B],pipes:[i.b],styles:["ion-img[_ngcontent-%COMP%]{height:200px}.info_text[_ngcontent-%COMP%]{margin:10px}"]}),t})()}];let f=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=b.Jb({type:t}),t.\u0275inj=b.Ib({imports:[[n.h.forChild(l)],n.h]}),t})();var O=e("PCNd");let g=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=b.Jb({type:t}),t.\u0275inj=b.Ib({imports:[[i.c,f,u.M,O.a,s.i]]}),t})()}}]);