(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{P9on:function(r,o,t){"use strict";t.r(o),t.d(o,"AuthenticationModule",function(){return g});var e=t("ofXK"),n=t("tyNb"),i=t("3Pt+"),s=t("gcOT"),c=t("fXoL"),a=t("2Vo4"),b=t("I/3d"),u=t("UbJi");let l=(()=>{class r{constructor(r,o,t){this._firestor=r,this._authFirebase=o,this._router=t,this.userIdSubJect$=new a.a(null),this.userId$=this.userIdSubJect$.asObservable()}createUser(r,o){this._authFirebase.createUserWithEmailAndPassword(r,o).then(r=>{const{email:o,uid:t}=r.user;this._firestor.collection("users").doc(t).set({email:o}).then(()=>{console.log("Document successfully written!"),this._router.navigate(["/pages/home"])}).catch(r=>{console.error("Error writing document: ",r)})}).catch(r=>{})}signIn(r,o){this._authFirebase.signInWithEmailAndPassword(r,o).then(r=>{this._router.navigate(["/pages/home"])})}signOut(){this._authFirebase.signOut().then(()=>{console.log("deconnect\xe9")}).catch(r=>{})}}return r.\u0275fac=function(o){return new(o||r)(c.Sb(b.a),c.Sb(u.a),c.Sb(n.e))},r.\u0275prov=c.Hb({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var d=t("TEn/");const p=function(){return["/pages/login/register"]},h=function(){return["/pages/login"]},m=[{path:"",component:(()=>{class r{constructor(r,o,t){this._authService=r,this._formBuider=o,this._platforme=t}ngOnInit(){this.form=this._formBuider.group({email:["",i.k.required],password:["",i.k.required]}),this._platforme.backButton.subscribeWithPriority(666666,()=>s.a.exitApp())}authentication(){const{email:r,password:o}=this.form.value;""!==r||""!==o?this._authService.signIn(r,o):alert("Remplissez tout les champs")}}return r.\u0275fac=function(o){return new(o||r)(c.Lb(l),c.Lb(i.a),c.Lb(d.N))},r.\u0275cmp=c.Fb({type:r,selectors:[["app-authentication"]],decls:22,vars:3,consts:[[1,"container_page"],[3,"formGroup","ngSubmit"],["size","12"],["color","primary",1,"ion-text-center"],["formControlName","email","color","primary","placeholder","Email"],["type","password","formControlName","password","placeholder","Password"],["expand","block",1,"btn_login"],["expand","block",3,"routerLink"]],template:function(r,o){1&r&&(c.Ob(0,"ion-content"),c.Ob(1,"div",0),c.Ob(2,"ion-grid"),c.Ob(3,"form",1),c.Wb("ngSubmit",function(){return o.authentication()}),c.Ob(4,"ion-row"),c.Ob(5,"ion-col",2),c.Ob(6,"ion-text",3),c.Ob(7,"h1"),c.nc(8,"Login"),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(9,"ion-row"),c.Ob(10,"ion-col",2),c.Mb(11,"ion-input",4),c.Nb(),c.Ob(12,"ion-col",2),c.Mb(13,"ion-input",5),c.Nb(),c.Nb(),c.Ob(14,"ion-row"),c.Ob(15,"ion-col",2),c.Ob(16,"button",6),c.nc(17,"Login"),c.Nb(),c.Nb(),c.Nb(),c.Ob(18,"ion-row"),c.Ob(19,"ion-col",2),c.Ob(20,"ion-button",7),c.nc(21,"Cr\xe9er compte"),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb()),2&r&&(c.Bb(3),c.dc("formGroup",o.form),c.Bb(17),c.dc("routerLink",c.fc(2,p)))},directives:[d.m,d.n,i.l,i.h,i.c,d.w,d.l,d.H,d.r,d.Q,i.g,i.b,d.e,n.f,d.O],styles:["[_nghost-%COMP%]{background:#f0f8ff}.container_page[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}ion-content[_ngcontent-%COMP%]{--background:transparent}ion-input[_ngcontent-%COMP%]{border:1px solid;border-radius:6px}.btn_login[_ngcontent-%COMP%]{width:100%;height:40px;background-color:#00f;color:#fff;font-size:18px;border-radius:4px}"]}),r})()},{path:"register",component:(()=>{class r{constructor(r,o){this._formBuilder=r,this._authService=o,this.formErrorEmail=!1,this.formErrorPassword=!1}ngOnInit(){this.form=this._formBuilder.group({email:["",[i.k.required,i.k.maxLength(200)]],password:["",[i.k.required,i.k.minLength(6)]]})}registerUser(){if("VALID"!==this.form.get("email").status)return void(this.formErrorEmail=!0);if("VALID"!==this.form.get("password").status)return void(this.formErrorPassword=!0);const{email:r,password:o}=this.form.value;this._authService.createUser(r,o)}}return r.\u0275fac=function(o){return new(o||r)(c.Lb(i.a),c.Lb(l))},r.\u0275cmp=c.Fb({type:r,selectors:[["app-register"]],decls:22,vars:5,consts:[[1,"container_page"],[3,"formGroup","ngSubmit"],["size","12"],["color","primary",1,"ion-text-center"],["formControlName","email","color","primary","placeholder","Email",3,"ngClass"],["type","password","formControlName","password","placeholder","Password",3,"ngClass"],["expand","block",1,"btn_register"],["expand","block",3,"routerLink"]],template:function(r,o){1&r&&(c.Ob(0,"ion-content"),c.Ob(1,"div",0),c.Ob(2,"ion-grid"),c.Ob(3,"form",1),c.Wb("ngSubmit",function(){return o.registerUser()}),c.Ob(4,"ion-row"),c.Ob(5,"ion-col",2),c.Ob(6,"ion-text",3),c.Ob(7,"h1"),c.nc(8,"Cr\xe9er compte"),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(9,"ion-row"),c.Ob(10,"ion-col",2),c.Mb(11,"ion-input",4),c.Nb(),c.Ob(12,"ion-col",2),c.Mb(13,"ion-input",5),c.Nb(),c.Nb(),c.Ob(14,"ion-row"),c.Ob(15,"ion-col",2),c.Ob(16,"button",6),c.nc(17,"Valider"),c.Nb(),c.Nb(),c.Nb(),c.Ob(18,"ion-row"),c.Ob(19,"ion-col",2),c.Ob(20,"ion-button",7),c.nc(21,"Login"),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb()),2&r&&(c.Bb(3),c.dc("formGroup",o.form),c.Bb(8),c.dc("ngClass",o.formErrorEmail&&"alert_error"),c.Bb(2),c.dc("ngClass",o.formErrorPassword&&"alert_error"),c.Bb(7),c.dc("routerLink",c.fc(4,h)))},directives:[d.m,d.n,i.l,i.h,i.c,d.w,d.l,d.H,d.r,d.Q,i.g,i.b,e.i,d.e,n.f,d.O],styles:[".container_page[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}.btn_register[_ngcontent-%COMP%]{width:100%;height:40px;background-color:#00f;color:#fff;font-size:18px;border-radius:4px}ion-input.alert_error[_ngcontent-%COMP%]{border:1px solid red;border-radius:4px}"]}),r})()}];let f=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=c.Jb({type:r}),r.\u0275inj=c.Ib({imports:[[n.h.forChild(m)],n.h]}),r})(),g=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=c.Jb({type:r}),r.\u0275inj=c.Ib({imports:[[e.c,f,d.M,i.i]]}),r})()}}]);