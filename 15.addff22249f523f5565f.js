(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{P9on:function(o,e,r){"use strict";r.r(e),r.d(e,"AuthenticationModule",function(){return g});var t=r("ofXK"),n=r("tyNb"),i=r("3Pt+"),s=r("gcOT"),c=r("fXoL"),a=r("2Vo4"),b=r("I/3d"),l=r("UbJi");let u=(()=>{class o{constructor(o,e,r){this._firestor=o,this._authFirebase=e,this._router=r,this.userIdSubJect$=new a.a(null),this.userId$=this.userIdSubJect$.asObservable()}createUser(o,e){this._authFirebase.createUserWithEmailAndPassword(o,e).then(o=>{const{email:e,uid:r}=o.user;this._firestor.collection("users").doc(r).set({email:e}).then(()=>{console.log("Document successfully written!"),this._router.navigate(["/pages/home"])}).catch(o=>{console.error("Error writing document: ",o)})}).catch(o=>{})}signIn(o,e){this._authFirebase.signInWithEmailAndPassword(o,e).then(o=>{this._router.navigate(["/pages/home"])})}signOut(){this._authFirebase.signOut().then(()=>{console.log("deconnect\xe9")}).catch(o=>{})}}return o.\u0275fac=function(e){return new(e||o)(c.Sb(b.a),c.Sb(l.a),c.Sb(n.e))},o.\u0275prov=c.Hb({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var d=r("TEn/");const m=function(){return["/pages/login/register"]},h=function(){return["/pages/login"]},p=[{path:"",component:(()=>{class o{constructor(o,e,r){this._authService=o,this._formBuider=e,this._platforme=r}ngOnInit(){this.form=this._formBuider.group({email:["",i.k.required],password:["",[i.k.required,i.k.minLength(6)]]}),this._platforme.backButton.subscribeWithPriority(666666,()=>s.a.exitApp())}authentication(){const{email:o,password:e}=this.form.value;""!==o||""!==e?this._authService.signIn(o,e):alert("Remplissez tout les champs")}}return o.\u0275fac=function(e){return new(e||o)(c.Lb(u),c.Lb(i.a),c.Lb(d.N))},o.\u0275cmp=c.Fb({type:o,selectors:[["app-authentication"]],decls:29,vars:4,consts:[[1,"ion-no-border"],["color","academicus-green"],["name","school-sharp","size","large",1,"icon"],[1,"container_page"],[3,"formGroup","ngSubmit"],["size","12"],["color","academicus-green",1,"ion-text-center"],["formControlName","email","placeholder","Email"],["type","password","formControlName","password","placeholder","Password"],["type","submit","color","academicus-green","expand","block",1,"btn_login",3,"disabled"],["expand","block",3,"routerLink"]],template:function(o,e){1&o&&(c.Ob(0,"ion-header",0),c.Ob(1,"ion-toolbar"),c.Ob(2,"ion-title",1),c.Mb(3,"ion-icon",2),c.nc(4," UNILivres "),c.Nb(),c.Nb(),c.Nb(),c.Ob(5,"ion-content"),c.Ob(6,"div",3),c.Ob(7,"ion-grid"),c.Ob(8,"form",4),c.Wb("ngSubmit",function(){return e.authentication()}),c.Ob(9,"ion-row"),c.Ob(10,"ion-col",5),c.Ob(11,"ion-text",6),c.Ob(12,"h1"),c.nc(13,"Login"),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(14,"ion-row"),c.Ob(15,"ion-col",5),c.Ob(16,"ion-item"),c.Mb(17,"ion-input",7),c.Nb(),c.Nb(),c.Ob(18,"ion-col",5),c.Ob(19,"ion-item"),c.Mb(20,"ion-input",8),c.Nb(),c.Nb(),c.Nb(),c.Ob(21,"ion-row"),c.Ob(22,"ion-col",5),c.Ob(23,"ion-button",9),c.nc(24,"Login "),c.Nb(),c.Nb(),c.Nb(),c.Ob(25,"ion-row"),c.Ob(26,"ion-col",5),c.Ob(27,"ion-button",10),c.nc(28,"Cr\xe9er compte"),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb()),2&o&&(c.Bb(8),c.dc("formGroup",e.form),c.Bb(15),c.dc("disabled",e.form.invalid),c.Bb(4),c.dc("routerLink",c.fc(3,m)))},directives:[d.o,d.L,d.K,d.p,d.m,d.n,i.l,i.h,i.c,d.w,d.l,d.H,d.s,d.r,d.Q,i.g,i.b,d.e,n.f,d.O],styles:[".container_page[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}"]}),o})()},{path:"register",component:(()=>{class o{constructor(o,e){this._formBuilder=o,this._authService=e,this.formErrorEmail=!1,this.formErrorPassword=!1}ngOnInit(){this.form=this._formBuilder.group({email:["",[i.k.required,i.k.maxLength(200)]],password:["",[i.k.required,i.k.minLength(6)]]})}registerUser(){if("VALID"!==this.form.get("email").status)return void(this.formErrorEmail=!0);if("VALID"!==this.form.get("password").status)return void(this.formErrorPassword=!0);const{email:o,password:e}=this.form.value;this._authService.createUser(o,e)}}return o.\u0275fac=function(e){return new(e||o)(c.Lb(i.a),c.Lb(u))},o.\u0275cmp=c.Fb({type:o,selectors:[["app-register"]],decls:29,vars:6,consts:[[1,"ion-no-border"],["color","academicus-green"],["name","school-sharp","size","large",1,"icon"],[1,"container_page"],[3,"formGroup","ngSubmit"],["size","12"],["color","academicus-green",1,"ion-text-center"],["formControlName","email","placeholder","Email",3,"ngClass"],["type","password","formControlName","password","placeholder","Password",3,"ngClass"],["type","submit","color","academicus-green","expand","block",3,"disabled"],["expand","block",3,"routerLink"]],template:function(o,e){1&o&&(c.Ob(0,"ion-header",0),c.Ob(1,"ion-toolbar"),c.Ob(2,"ion-title",1),c.Mb(3,"ion-icon",2),c.nc(4," UNILivres "),c.Nb(),c.Nb(),c.Nb(),c.Ob(5,"ion-content"),c.Ob(6,"div",3),c.Ob(7,"ion-grid"),c.Ob(8,"form",4),c.Wb("ngSubmit",function(){return e.registerUser()}),c.Ob(9,"ion-row"),c.Ob(10,"ion-col",5),c.Ob(11,"ion-text",6),c.Ob(12,"h1"),c.nc(13,"Cr\xe9er compte"),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(14,"ion-row"),c.Ob(15,"ion-col",5),c.Ob(16,"ion-item"),c.Mb(17,"ion-input",7),c.Nb(),c.Nb(),c.Ob(18,"ion-col",5),c.Ob(19,"ion-item"),c.Mb(20,"ion-input",8),c.Nb(),c.Nb(),c.Nb(),c.Ob(21,"ion-row"),c.Ob(22,"ion-col",5),c.Ob(23,"ion-button",9),c.nc(24," Valider "),c.Nb(),c.Nb(),c.Nb(),c.Ob(25,"ion-row"),c.Ob(26,"ion-col",5),c.Ob(27,"ion-button",10),c.nc(28,"Login"),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb()),2&o&&(c.Bb(8),c.dc("formGroup",e.form),c.Bb(9),c.dc("ngClass",e.formErrorEmail&&"alert_error"),c.Bb(3),c.dc("ngClass",e.formErrorPassword&&"alert_error"),c.Bb(3),c.dc("disabled",e.form.invalid),c.Bb(4),c.dc("routerLink",c.fc(5,h)))},directives:[d.o,d.L,d.K,d.p,d.m,d.n,i.l,i.h,i.c,d.w,d.l,d.H,d.s,d.r,d.Q,i.g,i.b,t.i,d.e,n.f,d.O],styles:[".container_page[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}.btn_register[_ngcontent-%COMP%]{width:100%;height:40px;background-color:#00f;color:#fff;font-size:18px;border-radius:4px}ion-input.alert_error[_ngcontent-%COMP%]{border:1px solid red;border-radius:4px}"]}),o})()}];let f=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=c.Jb({type:o}),o.\u0275inj=c.Ib({imports:[[n.h.forChild(p)],n.h]}),o})(),g=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=c.Jb({type:o}),o.\u0275inj=c.Ib({imports:[[t.c,f,d.M,i.i]]}),o})()}}]);